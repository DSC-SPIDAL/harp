<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_162) on Wed Mar 07 11:17:37 EST 2018 -->
<title>CollectiveMapper (Harp Java API)</title>
<meta name="date" content="2018-03-07">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="CollectiveMapper (Harp Java API)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10,"i11":10,"i12":10,"i13":10,"i14":10,"i15":10,"i16":10,"i17":10,"i18":10,"i19":10,"i20":10,"i21":10,"i22":10,"i23":10,"i24":10,"i25":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li><a href="../../../../org/apache/hadoop/mapred/CollectiveMapper.KeyValReader.html" title="class in org.apache.hadoop.mapred"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/apache/hadoop/mapred/CollectiveMapper.html" target="_top">Frames</a></li>
<li><a href="CollectiveMapper.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.apache.hadoop.mapred</div>
<h2 title="Class CollectiveMapper" class="title">Class CollectiveMapper&lt;KEYIN,VALUEIN,KEYOUT,VALUEOUT&gt;</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>&lt;any&gt;</li>
<li>
<ul class="inheritance">
<li>org.apache.hadoop.mapred.CollectiveMapper&lt;KEYIN,VALUEIN,KEYOUT,VALUEOUT&gt;</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>KEYIN</code> - Input key</dd>
<dd><code>VALUEIN</code> - Input value</dd>
<dd><code>KEYOUT</code> - Output key</dd>
<dd><code>VALUEOUT</code> - Output value</dd>
</dl>
<hr>
<br>
<pre>public class <span class="typeNameLabel">CollectiveMapper&lt;KEYIN,VALUEIN,KEYOUT,VALUEOUT&gt;</span>
extends &lt;any&gt;</pre>
<div class="block">CollectiveMapper is extended from original
 mapper in Hadoop. It includes new APIs for
 in-memory collective communication.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested.class.summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Nested Class Summary table, listing nested classes, and an explanation">
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Class and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected class&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/hadoop/mapred/CollectiveMapper.KeyValReader.html" title="class in org.apache.hadoop.mapred">CollectiveMapper.KeyValReader</a></span></code>
<div class="block">A Key-Value reader to read key-value inputs
 for this worker.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected static Log</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/hadoop/mapred/CollectiveMapper.html#LOG">LOG</a></span></code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../org/apache/hadoop/mapred/CollectiveMapper.html#CollectiveMapper--">CollectiveMapper</a></span>()</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>&lt;P extends <a href="../../../../edu/iu/harp/resource/Simple.html" title="class in edu.iu.harp.resource">Simple</a>&gt;<br>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/hadoop/mapred/CollectiveMapper.html#allgather-java.lang.String-java.lang.String-edu.iu.harp.partition.Table-">allgather</a></span>(java.lang.String&nbsp;contextName,
         java.lang.String&nbsp;operationName,
         <a href="../../../../edu/iu/harp/partition/Table.html" title="class in edu.iu.harp.partition">Table</a>&lt;P&gt;&nbsp;table)</code>
<div class="block">Allgather partitions of the tables to all the
 local tables.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>&lt;P extends <a href="../../../../edu/iu/harp/resource/Simple.html" title="class in edu.iu.harp.resource">Simple</a>&gt;<br>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/hadoop/mapred/CollectiveMapper.html#allreduce-java.lang.String-java.lang.String-edu.iu.harp.partition.Table-">allreduce</a></span>(java.lang.String&nbsp;contextName,
         java.lang.String&nbsp;operationName,
         <a href="../../../../edu/iu/harp/partition/Table.html" title="class in edu.iu.harp.partition">Table</a>&lt;P&gt;&nbsp;table)</code>
<div class="block">Allreduce partitions of the tables to all the
 local tables.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/hadoop/mapred/CollectiveMapper.html#barrier-java.lang.String-java.lang.String-">barrier</a></span>(java.lang.String&nbsp;contextName,
       java.lang.String&nbsp;operationName)</code>
<div class="block">Synchronize workers through a barrier</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>&lt;P extends <a href="../../../../edu/iu/harp/resource/Simple.html" title="class in edu.iu.harp.resource">Simple</a>&gt;<br>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/hadoop/mapred/CollectiveMapper.html#broadcast-java.lang.String-java.lang.String-edu.iu.harp.partition.Table-int-boolean-">broadcast</a></span>(java.lang.String&nbsp;contextName,
         java.lang.String&nbsp;operationName,
         <a href="../../../../edu/iu/harp/partition/Table.html" title="class in edu.iu.harp.partition">Table</a>&lt;P&gt;&nbsp;table,
         int&nbsp;bcastWorkerID,
         boolean&nbsp;useMSTBcast)</code>
<div class="block">Broadcast the partitions of the table on a
 worker to other workers.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/hadoop/mapred/CollectiveMapper.html#cleanup-Context-">cleanup</a></span>(Context&nbsp;context)</code>
<div class="block">Called once at the end of the task.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/hadoop/mapred/CollectiveMapper.html#freeConn--">freeConn</a></span>()</code>
<div class="block">Free the connections cached in the pool.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/hadoop/mapred/CollectiveMapper.html#freeMemory--">freeMemory</a></span>()</code>
<div class="block">Free the objects cached in the pool.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code><a href="../../../../edu/iu/harp/client/Event.html" title="class in edu.iu.harp.client">Event</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/hadoop/mapred/CollectiveMapper.html#getEvent--">getEvent</a></span>()</code>
<div class="block">Get an event from the event queue.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/hadoop/mapred/CollectiveMapper.html#getMasterID--">getMasterID</a></span>()</code>
<div class="block">Get the ID of the master worker.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/hadoop/mapred/CollectiveMapper.html#getMaxID--">getMaxID</a></span>()</code>
<div class="block">Get the maximum worker ID</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/hadoop/mapred/CollectiveMapper.html#getMinID--">getMinID</a></span>()</code>
<div class="block">Get the minimum worker ID.</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/hadoop/mapred/CollectiveMapper.html#getNumWorkers--">getNumWorkers</a></span>()</code>
<div class="block">Get the total number of workers.</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/hadoop/mapred/CollectiveMapper.html#getSelfID--">getSelfID</a></span>()</code>
<div class="block">Get the ID of this worker.</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/hadoop/mapred/CollectiveMapper.html#isMaster--">isMaster</a></span>()</code>
<div class="block">Check if this worker is the master worker.</div>
</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/hadoop/mapred/CollectiveMapper.html#logGCTime--">logGCTime</a></span>()</code>
<div class="block">Log Garbage collection time</div>
</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/hadoop/mapred/CollectiveMapper.html#logMemUsage--">logMemUsage</a></span>()</code>
<div class="block">Log memory usage</div>
</td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/hadoop/mapred/CollectiveMapper.html#mapCollective-org.apache.hadoop.mapred.CollectiveMapper.KeyValReader-Context-">mapCollective</a></span>(<a href="../../../../org/apache/hadoop/mapred/CollectiveMapper.KeyValReader.html" title="class in org.apache.hadoop.mapred">CollectiveMapper.KeyValReader</a>&nbsp;reader,
             Context&nbsp;context)</code>
<div class="block">Most applications should override this.</div>
</td>
</tr>
<tr id="i17" class="rowColor">
<td class="colFirst"><code>&lt;P extends <a href="../../../../edu/iu/harp/resource/Simple.html" title="class in edu.iu.harp.resource">Simple</a>&gt;<br>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/hadoop/mapred/CollectiveMapper.html#pull-java.lang.String-java.lang.String-edu.iu.harp.partition.Table-edu.iu.harp.partition.Table-boolean-">pull</a></span>(java.lang.String&nbsp;contextName,
    java.lang.String&nbsp;operationName,
    <a href="../../../../edu/iu/harp/partition/Table.html" title="class in edu.iu.harp.partition">Table</a>&lt;P&gt;&nbsp;localTable,
    <a href="../../../../edu/iu/harp/partition/Table.html" title="class in edu.iu.harp.partition">Table</a>&lt;P&gt;&nbsp;globalTable,
    boolean&nbsp;useBcast)</code>
<div class="block">Pull partitions in the global table to the
 local tables.</div>
</td>
</tr>
<tr id="i18" class="altColor">
<td class="colFirst"><code>&lt;P extends <a href="../../../../edu/iu/harp/resource/Simple.html" title="class in edu.iu.harp.resource">Simple</a>,PT extends <a href="../../../../edu/iu/harp/partition/Partitioner.html" title="class in edu.iu.harp.partition">Partitioner</a>&gt;<br>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/hadoop/mapred/CollectiveMapper.html#push-java.lang.String-java.lang.String-edu.iu.harp.partition.Table-edu.iu.harp.partition.Table-PT-">push</a></span>(java.lang.String&nbsp;contextName,
    java.lang.String&nbsp;operationName,
    <a href="../../../../edu/iu/harp/partition/Table.html" title="class in edu.iu.harp.partition">Table</a>&lt;P&gt;&nbsp;localTable,
    <a href="../../../../edu/iu/harp/partition/Table.html" title="class in edu.iu.harp.partition">Table</a>&lt;P&gt;&nbsp;globalTable,
    PT&nbsp;partitioner)</code>
<div class="block">Push the partitions of local tables to the
 global table.</div>
</td>
</tr>
<tr id="i19" class="rowColor">
<td class="colFirst"><code>&lt;P extends <a href="../../../../edu/iu/harp/resource/Simple.html" title="class in edu.iu.harp.resource">Simple</a>&gt;<br>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/hadoop/mapred/CollectiveMapper.html#reduce-java.lang.String-java.lang.String-edu.iu.harp.partition.Table-int-">reduce</a></span>(java.lang.String&nbsp;contextName,
      java.lang.String&nbsp;operationName,
      <a href="../../../../edu/iu/harp/partition/Table.html" title="class in edu.iu.harp.partition">Table</a>&lt;P&gt;&nbsp;table,
      int&nbsp;reduceWorkerID)</code>
<div class="block">Reduce the partitions of the tables to one of
 them.</div>
</td>
</tr>
<tr id="i20" class="altColor">
<td class="colFirst"><code>&lt;P extends <a href="../../../../edu/iu/harp/resource/Simple.html" title="class in edu.iu.harp.resource">Simple</a>,PT extends <a href="../../../../edu/iu/harp/partition/Partitioner.html" title="class in edu.iu.harp.partition">Partitioner</a>&gt;<br>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/hadoop/mapred/CollectiveMapper.html#regroup-java.lang.String-java.lang.String-edu.iu.harp.partition.Table-PT-">regroup</a></span>(java.lang.String&nbsp;contextName,
       java.lang.String&nbsp;operationName,
       <a href="../../../../edu/iu/harp/partition/Table.html" title="class in edu.iu.harp.partition">Table</a>&lt;P&gt;&nbsp;table,
       PT&nbsp;partitioner)</code>
<div class="block">Regroup the partitions of the tables based on
 a partitioner.</div>
</td>
</tr>
<tr id="i21" class="rowColor">
<td class="colFirst"><code>&lt;P extends <a href="../../../../edu/iu/harp/resource/Simple.html" title="class in edu.iu.harp.resource">Simple</a>&gt;<br>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/hadoop/mapred/CollectiveMapper.html#rotate-java.lang.String-java.lang.String-edu.iu.harp.partition.Table-Int2IntMap-">rotate</a></span>(java.lang.String&nbsp;contextName,
      java.lang.String&nbsp;operationName,
      <a href="../../../../edu/iu/harp/partition/Table.html" title="class in edu.iu.harp.partition">Table</a>&lt;P&gt;&nbsp;globalTable,
      Int2IntMap&nbsp;rotateMap)</code>
<div class="block">The rotation communication.</div>
</td>
</tr>
<tr id="i22" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/hadoop/mapred/CollectiveMapper.html#run-Context-">run</a></span>(Context&nbsp;context)</code>
<div class="block">Override this method to support collective
 communications among Mappers</div>
</td>
</tr>
<tr id="i23" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/hadoop/mapred/CollectiveMapper.html#sendEvent-edu.iu.harp.client.Event-">sendEvent</a></span>(<a href="../../../../edu/iu/harp/client/Event.html" title="class in edu.iu.harp.client">Event</a>&nbsp;event)</code>
<div class="block">Send an event to the local (local event), to
 a remote worker (message event), or to the
 rest workers (collective event).</div>
</td>
</tr>
<tr id="i24" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/hadoop/mapred/CollectiveMapper.html#setup-Context-">setup</a></span>(Context&nbsp;context)</code>
<div class="block">Called once at the beginning of the task.</div>
</td>
</tr>
<tr id="i25" class="rowColor">
<td class="colFirst"><code><a href="../../../../edu/iu/harp/client/Event.html" title="class in edu.iu.harp.client">Event</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/hadoop/mapred/CollectiveMapper.html#waitEvent--">waitEvent</a></span>()</code>
<div class="block">Wait for an event from the queue</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="LOG">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>LOG</h4>
<pre>protected static final&nbsp;Log LOG</pre>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="CollectiveMapper--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>CollectiveMapper</h4>
<pre>public&nbsp;CollectiveMapper()</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getSelfID--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getSelfID</h4>
<pre>public&nbsp;int&nbsp;getSelfID()</pre>
<div class="block">Get the ID of this worker.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Worker ID</dd>
</dl>
</li>
</ul>
<a name="getMasterID--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getMasterID</h4>
<pre>public&nbsp;int&nbsp;getMasterID()</pre>
<div class="block">Get the ID of the master worker.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Master ID</dd>
</dl>
</li>
</ul>
<a name="isMaster--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isMaster</h4>
<pre>public&nbsp;boolean&nbsp;isMaster()</pre>
<div class="block">Check if this worker is the master worker.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>is this the master worker ID?</dd>
</dl>
</li>
</ul>
<a name="getNumWorkers--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getNumWorkers</h4>
<pre>public&nbsp;int&nbsp;getNumWorkers()</pre>
<div class="block">Get the total number of workers.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the number of workers</dd>
</dl>
</li>
</ul>
<a name="getMinID--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getMinID</h4>
<pre>public&nbsp;int&nbsp;getMinID()</pre>
<div class="block">Get the minimum worker ID.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>worker ID</dd>
</dl>
</li>
</ul>
<a name="getMaxID--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getMaxID</h4>
<pre>public&nbsp;int&nbsp;getMaxID()</pre>
<div class="block">Get the maximum worker ID</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
</dl>
</li>
</ul>
<a name="barrier-java.lang.String-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>barrier</h4>
<pre>public&nbsp;boolean&nbsp;barrier(java.lang.String&nbsp;contextName,
                       java.lang.String&nbsp;operationName)</pre>
<div class="block">Synchronize workers through a barrier</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>contextName</code> - </dd>
<dd><code>operationName</code> - </dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a boolean tells if the operation
         succeeds</dd>
</dl>
</li>
</ul>
<a name="broadcast-java.lang.String-java.lang.String-edu.iu.harp.partition.Table-int-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>broadcast</h4>
<pre>public&nbsp;&lt;P extends <a href="../../../../edu/iu/harp/resource/Simple.html" title="class in edu.iu.harp.resource">Simple</a>&gt;&nbsp;boolean&nbsp;broadcast(java.lang.String&nbsp;contextName,
                                            java.lang.String&nbsp;operationName,
                                            <a href="../../../../edu/iu/harp/partition/Table.html" title="class in edu.iu.harp.partition">Table</a>&lt;P&gt;&nbsp;table,
                                            int&nbsp;bcastWorkerID,
                                            boolean&nbsp;useMSTBcast)</pre>
<div class="block">Broadcast the partitions of the table on a
 worker to other workers.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>contextName</code> - the name of the operation context</dd>
<dd><code>operationName</code> - the name of the operation</dd>
<dd><code>table</code> - the table used to hold the
          partitions</dd>
<dd><code>bcastWorkerID</code> - the worker ID of broadcasting data</dd>
<dd><code>useMSTBcast</code> - if minimum-spanning tree algorithm
          is used</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a boolean tells if the operation
         succeeds</dd>
</dl>
</li>
</ul>
<a name="reduce-java.lang.String-java.lang.String-edu.iu.harp.partition.Table-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>reduce</h4>
<pre>public&nbsp;&lt;P extends <a href="../../../../edu/iu/harp/resource/Simple.html" title="class in edu.iu.harp.resource">Simple</a>&gt;&nbsp;boolean&nbsp;reduce(java.lang.String&nbsp;contextName,
                                         java.lang.String&nbsp;operationName,
                                         <a href="../../../../edu/iu/harp/partition/Table.html" title="class in edu.iu.harp.partition">Table</a>&lt;P&gt;&nbsp;table,
                                         int&nbsp;reduceWorkerID)</pre>
<div class="block">Reduce the partitions of the tables to one of
 them.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>contextName</code> - the name of the operation context</dd>
<dd><code>operationName</code> - the name of the operation</dd>
<dd><code>table</code> - the table to hold the partitions</dd>
<dd><code>reduceWorkerID</code> - the worker ID for reduce operation</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a boolean tells if the operation
         succeeds</dd>
</dl>
</li>
</ul>
<a name="allgather-java.lang.String-java.lang.String-edu.iu.harp.partition.Table-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>allgather</h4>
<pre>public&nbsp;&lt;P extends <a href="../../../../edu/iu/harp/resource/Simple.html" title="class in edu.iu.harp.resource">Simple</a>&gt;&nbsp;boolean&nbsp;allgather(java.lang.String&nbsp;contextName,
                                            java.lang.String&nbsp;operationName,
                                            <a href="../../../../edu/iu/harp/partition/Table.html" title="class in edu.iu.harp.partition">Table</a>&lt;P&gt;&nbsp;table)</pre>
<div class="block">Allgather partitions of the tables to all the
 local tables.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>contextName</code> - the name of the operation context</dd>
<dd><code>operationName</code> - the name of the operation</dd>
<dd><code>table</code> - the table to hold the partitions</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a boolean tells if the operations
         succeeds</dd>
</dl>
</li>
</ul>
<a name="allreduce-java.lang.String-java.lang.String-edu.iu.harp.partition.Table-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>allreduce</h4>
<pre>public&nbsp;&lt;P extends <a href="../../../../edu/iu/harp/resource/Simple.html" title="class in edu.iu.harp.resource">Simple</a>&gt;&nbsp;boolean&nbsp;allreduce(java.lang.String&nbsp;contextName,
                                            java.lang.String&nbsp;operationName,
                                            <a href="../../../../edu/iu/harp/partition/Table.html" title="class in edu.iu.harp.partition">Table</a>&lt;P&gt;&nbsp;table)</pre>
<div class="block">Allreduce partitions of the tables to all the
 local tables.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>contextName</code> - the name of the operation context</dd>
<dd><code>operationName</code> - the name of the operation</dd>
<dd><code>table</code> - the table to hold the partitions</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a boolean tells if the operation
         succeeds</dd>
</dl>
</li>
</ul>
<a name="regroup-java.lang.String-java.lang.String-edu.iu.harp.partition.Table-edu.iu.harp.partition.Partitioner-">
<!--   -->
</a><a name="regroup-java.lang.String-java.lang.String-edu.iu.harp.partition.Table-PT-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>regroup</h4>
<pre>public&nbsp;&lt;P extends <a href="../../../../edu/iu/harp/resource/Simple.html" title="class in edu.iu.harp.resource">Simple</a>,PT extends <a href="../../../../edu/iu/harp/partition/Partitioner.html" title="class in edu.iu.harp.partition">Partitioner</a>&gt;&nbsp;boolean&nbsp;regroup(java.lang.String&nbsp;contextName,
                                                                 java.lang.String&nbsp;operationName,
                                                                 <a href="../../../../edu/iu/harp/partition/Table.html" title="class in edu.iu.harp.partition">Table</a>&lt;P&gt;&nbsp;table,
                                                                 PT&nbsp;partitioner)</pre>
<div class="block">Regroup the partitions of the tables based on
 a partitioner.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>contextName</code> - the name of the operation context</dd>
<dd><code>operationName</code> - the name of the operation</dd>
<dd><code>table</code> - the table to hold the partitions</dd>
<dd><code>partitioner</code> - a boolean tells if the operations
          succeeds</dd>
<dt><span class="returnLabel">Returns:</span></dt>
</dl>
</li>
</ul>
<a name="pull-java.lang.String-java.lang.String-edu.iu.harp.partition.Table-edu.iu.harp.partition.Table-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>pull</h4>
<pre>public&nbsp;&lt;P extends <a href="../../../../edu/iu/harp/resource/Simple.html" title="class in edu.iu.harp.resource">Simple</a>&gt;&nbsp;boolean&nbsp;pull(java.lang.String&nbsp;contextName,
                                       java.lang.String&nbsp;operationName,
                                       <a href="../../../../edu/iu/harp/partition/Table.html" title="class in edu.iu.harp.partition">Table</a>&lt;P&gt;&nbsp;localTable,
                                       <a href="../../../../edu/iu/harp/partition/Table.html" title="class in edu.iu.harp.partition">Table</a>&lt;P&gt;&nbsp;globalTable,
                                       boolean&nbsp;useBcast)</pre>
<div class="block">Pull partitions in the global table to the
 local tables. If any partition ID conflicts
 with the partition ID in the local table,
 combines them.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>contextName</code> - the name of the operation context</dd>
<dd><code>operationName</code> - the name of the operation</dd>
<dd><code>localTable</code> - the local tables</dd>
<dd><code>globalTable</code> - the global table, acts like a
          distributed dataset</dd>
<dd><code>useBcast</code> - if using broadcast in scattering the
          partitions</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a boolean tells if the operation
         succeeds</dd>
</dl>
</li>
</ul>
<a name="push-java.lang.String-java.lang.String-edu.iu.harp.partition.Table-edu.iu.harp.partition.Table-edu.iu.harp.partition.Partitioner-">
<!--   -->
</a><a name="push-java.lang.String-java.lang.String-edu.iu.harp.partition.Table-edu.iu.harp.partition.Table-PT-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>push</h4>
<pre>public&nbsp;&lt;P extends <a href="../../../../edu/iu/harp/resource/Simple.html" title="class in edu.iu.harp.resource">Simple</a>,PT extends <a href="../../../../edu/iu/harp/partition/Partitioner.html" title="class in edu.iu.harp.partition">Partitioner</a>&gt;&nbsp;boolean&nbsp;push(java.lang.String&nbsp;contextName,
                                                              java.lang.String&nbsp;operationName,
                                                              <a href="../../../../edu/iu/harp/partition/Table.html" title="class in edu.iu.harp.partition">Table</a>&lt;P&gt;&nbsp;localTable,
                                                              <a href="../../../../edu/iu/harp/partition/Table.html" title="class in edu.iu.harp.partition">Table</a>&lt;P&gt;&nbsp;globalTable,
                                                              PT&nbsp;partitioner)</pre>
<div class="block">Push the partitions of local tables to the
 global table.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>contextName</code> - the name of the operation context</dd>
<dd><code>operationName</code> - the name of operation</dd>
<dd><code>localTable</code> - the local tables</dd>
<dd><code>globalTable</code> - the global table which acts like a
          distributed dataset, each partition
          in this table is unique</dd>
<dd><code>partitioner</code> - when a partiitoner is used, the
          local partitions are sent to the
          global table even without partiiton
          ID association</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a boolean tells if the operation
         succeeds</dd>
</dl>
</li>
</ul>
<a name="rotate-java.lang.String-java.lang.String-edu.iu.harp.partition.Table-Int2IntMap-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>rotate</h4>
<pre>public&nbsp;&lt;P extends <a href="../../../../edu/iu/harp/resource/Simple.html" title="class in edu.iu.harp.resource">Simple</a>&gt;&nbsp;boolean&nbsp;rotate(java.lang.String&nbsp;contextName,
                                         java.lang.String&nbsp;operationName,
                                         <a href="../../../../edu/iu/harp/partition/Table.html" title="class in edu.iu.harp.partition">Table</a>&lt;P&gt;&nbsp;globalTable,
                                         Int2IntMap&nbsp;rotateMap)</pre>
<div class="block">The rotation communication. Transfer the
 partitions from worker to worker. After
 rotation, every worker sends its partitions
 to one of the other worker, and receive
 partitions from one of the other workers</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>contextName</code> - the name of the operation context</dd>
<dd><code>operationName</code> - the name of operation</dd>
<dd><code>globalTable</code> - the global table which acts like a
          distributed dataset, each partition
          in this table is unique</dd>
<dd><code>rotateMap</code> - the map from worker to worker,
          defines how to rotate the data</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if succeeded, false if not</dd>
</dl>
</li>
</ul>
<a name="getEvent--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getEvent</h4>
<pre>public&nbsp;<a href="../../../../edu/iu/harp/client/Event.html" title="class in edu.iu.harp.client">Event</a>&nbsp;getEvent()</pre>
<div class="block">Get an event from the event queue.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>an event object, null if the queue is
         empty</dd>
</dl>
</li>
</ul>
<a name="waitEvent--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>waitEvent</h4>
<pre>public&nbsp;<a href="../../../../edu/iu/harp/client/Event.html" title="class in edu.iu.harp.client">Event</a>&nbsp;waitEvent()</pre>
<div class="block">Wait for an event from the queue</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the event object</dd>
</dl>
</li>
</ul>
<a name="sendEvent-edu.iu.harp.client.Event-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>sendEvent</h4>
<pre>public&nbsp;boolean&nbsp;sendEvent(<a href="../../../../edu/iu/harp/client/Event.html" title="class in edu.iu.harp.client">Event</a>&nbsp;event)</pre>
<div class="block">Send an event to the local (local event), to
 a remote worker (message event), or to the
 rest workers (collective event).</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>event</code> - an event</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if succeeded, false if not</dd>
</dl>
</li>
</ul>
<a name="freeMemory--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>freeMemory</h4>
<pre>protected&nbsp;void&nbsp;freeMemory()</pre>
<div class="block">Free the objects cached in the pool.</div>
</li>
</ul>
<a name="freeConn--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>freeConn</h4>
<pre>protected&nbsp;void&nbsp;freeConn()</pre>
<div class="block">Free the connections cached in the pool.</div>
</li>
</ul>
<a name="logMemUsage--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>logMemUsage</h4>
<pre>protected&nbsp;void&nbsp;logMemUsage()</pre>
<div class="block">Log memory usage</div>
</li>
</ul>
<a name="logGCTime--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>logGCTime</h4>
<pre>protected&nbsp;void&nbsp;logGCTime()</pre>
<div class="block">Log Garbage collection time</div>
</li>
</ul>
<a name="setup-Context-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setup</h4>
<pre>protected&nbsp;void&nbsp;setup(Context&nbsp;context)
              throws java.io.IOException,
                     java.lang.InterruptedException</pre>
<div class="block">Called once at the beginning of the task.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code></dd>
<dd><code>java.lang.InterruptedException</code></dd>
</dl>
</li>
</ul>
<a name="mapCollective-org.apache.hadoop.mapred.CollectiveMapper.KeyValReader-Context-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>mapCollective</h4>
<pre>protected&nbsp;void&nbsp;mapCollective(<a href="../../../../org/apache/hadoop/mapred/CollectiveMapper.KeyValReader.html" title="class in org.apache.hadoop.mapred">CollectiveMapper.KeyValReader</a>&nbsp;reader,
                             Context&nbsp;context)
                      throws java.io.IOException,
                             java.lang.InterruptedException</pre>
<div class="block">Most applications should override this.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code></dd>
<dd><code>java.lang.InterruptedException</code></dd>
</dl>
</li>
</ul>
<a name="cleanup-Context-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>cleanup</h4>
<pre>protected&nbsp;void&nbsp;cleanup(Context&nbsp;context)
                throws java.io.IOException,
                       java.lang.InterruptedException</pre>
<div class="block">Called once at the end of the task.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code></dd>
<dd><code>java.lang.InterruptedException</code></dd>
</dl>
</li>
</ul>
<a name="run-Context-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>run</h4>
<pre>public&nbsp;void&nbsp;run(Context&nbsp;context)
         throws java.io.IOException,
                java.lang.InterruptedException</pre>
<div class="block">Override this method to support collective
 communications among Mappers</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>context</code> - the context</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code></dd>
<dd><code>java.lang.InterruptedException</code></dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li><a href="../../../../org/apache/hadoop/mapred/CollectiveMapper.KeyValReader.html" title="class in org.apache.hadoop.mapred"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/apache/hadoop/mapred/CollectiveMapper.html" target="_top">Frames</a></li>
<li><a href="CollectiveMapper.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
